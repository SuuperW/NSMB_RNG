<p>Your RNG initialization time is {{ manipDatetime }}.</p>
<p>
	This step is similar to previous one, in that you will get tile patterns.<br />
	However, you will no longer be changing the time for each pattern.<br />
	Instead, you will use the date and time specified below. This time should be able to give you the correct RNG.<br />
	We'll tell you if RNG is correct when you submit. If it takes multiple tries to get the right RNG, that is OK and normal.<br />
	Once you have the right pattern, do not turn off the game. You will keep good RNG as long as the game stays on.
</p>

<p>Set your console's clock and load the game so that RNG is initialized at {{ manipDatetime }}.</p>

<app-clickable-tiles [hidden]="!datetimeCalculated" (tileClicked)="tileClick($event)"></app-clickable-tiles>
<br />
<app-full-pattern-input id="patternInput" [hidden]="!datetimeCalculated"></app-full-pattern-input>
<p>{{ feedback }}</p>

<button class="btn-primary" type="button" (click)="submit()">Submit</button>

<div [hidden]="!this.isGood">
	<p>
		You're all set to begin speedrun attempts!<br />
		Go to the game's main menu and start a new game. You won't need to set the clock again until you close the game.<br />
		Notice how most tiles are the same, and the pattern repeats; it should be easy to check for this pattern in the future without coming back here.<br />
		Review instructions for how to manipulate RNG during attempts <a [routerLink]="['/in-run']">here</a>.
	</p>
</div>

<div [hidden]="this.retrySeed == -1">
	<p>Did you get this pattern 3+ times?</p>
	<button class="btn-primary" type="button" [hidden]="this.offerRetry" (click)="this.offerRetry = true">Yes</button>
	<div [hidden]="!this.offerRetry">
		<p>
			Each pattern is associated with some RNG params. The RNG params used to calculate RNG initialization time came from the patterns you entered in a previous step.<br />
			Since this pattern is apparently more common, it may be helpful to calculate a new RNG initialization time using these RNG params instead.<br />
			This may help you get the right pattern if you're having trouble getting it with the current time.
		</p>
		<button id="newtime" class="btn-primary" type="button" (click)="calculateNewTime()">Get new time</button>
	</div>
</div>
